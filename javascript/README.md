# JavaScript

## Теги додавання JavaScript до коду сторінки   
```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Привіт</title>
        <script>
            alert('Привіт, світ!');
        </script>
    </head>
    <body>
        <h1>Hello!</h1>
    </body>
</html>
```
## Події. Подійно-орієнтоване програмування.
Будь яка дія зроблена користувачем на сайті може оброблятися кодом як окрема подія. Реакцію на ту чи іншу подію зручно обробляти функціями написаними на [JavaScript](https://www.w3schools.com/js/default.asp).  
1. От же перетворимо наше сповіщення на сайті в окрему функцію:    
```html
function hello() {
    alert('Привіт, світ!')
}
```
2. Наступним рядком описуємо HTML-кнопку з атрибутом `onclick`, який дає вказівки браузеру викликати нашу функцію при натисканні на неї:  
```html
<button onclick="hello()">Click Here</button>
```
3. Код сторінки буде виглядати тепер наступним чином:  
```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Привіт</title>
        <script>
            function hello() {
                alert('Привіт, світ!');
            }
        </script>
    </head>
    <body>
        <h1>Hello!</h1>
        <button onclick="hello()">Click Here</button>
    </body>
</html>
```
## Змінні.
1. Є три ключові слова, які ми можемо використовувати для присвоєння значень у JavaScript:  
- `var` - використовується для глобального визначення змінної: `var age = 20;`  
- `let` - використовується для визначення змінної, область видимості якої обмежена поточним блоком, таким як функція або цикл: `let counter = 1;`  
- `const` - використовується для визначення значення, яке не зміниться: `const PI = 3.14;`  

2. Для виводу змінної проміж тексту використовуємо [шаблонні літерали](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals) з наступним синтаксисом `` `Text ${var}` ``  

3. Для прикладу того, як ми можемо використовувати змінні, розробимо простий лічильник:  

```html
<!DOCTYPE html>
<html lang="uk">
    <head>
        <title>Обрахунок</title>
        <script>
            let counter = 0;
            function count() {
                counter++;
                alert(counter);
            }
        </script>
    </head>
    <body>
        <h1>Привіт!</h1>
        <button onclick="count()">Порахувати</button>
    </body>
</html>
```
## querySelector  
1. Функція `document.querySelector` та повертає елементи DOM. Треба звернути увагу, що функція повертає лише перший знайдений елемент моделі DOM, в нашому випадку це тег `h1`:    
`let heading = document.querySelector('h1');`  

2. Щоб маніпулювати елементом, який ми щойно знайшли, ми можемо змінити його властивість `innerHTML` (зміст тегу):
```html
heading.innerHTML = ' До побачення!';
```
3. В коді сторінки ми також можемо використовувати умовні оператори [if, else, and else if](https://www.w3schools.com/js/js_if_else.asp)

4.  в JavaScript ми використовуємо оператор `===` як жорсткіше порівняння між двома елементами, яке також перевіряє, чи належать об’єкти до одного типу. 

5. Напишемо функцію, яка заміню заголовок H1 нашої сторінки:
```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Обрахунок</title>
        <script>
            function hello() {
                const header = document.querySelector('h1');
                if (header.innerHTML === 'Привіт!') {
                    header.innerHTML = 'До побачення!';
                }
                else {
                    header.innerHTML = 'Привіт!';
                }
            }
        </script>
    </head>
    <body>
        <h1>Привіт!</h1>
        <button onclick="hello()">Натисніть тут</button>
    </body>
</html>
```

## Відокремлення коду JS від HTML
1. Спочатку в [файлі](counter01.html) позбудемося від рядкового коду JavaScript. Так само, як ми звикли робити з CSS, додавши рядок коду, який змінює атрибут `onclick` кнопки на сторінці, і видаливши атрибут `onclick` з тегу `button`:  

`document.querySelector('button').onclick = count;`  
Зверніть увагу, що ми не викликаємо функцію count, додаючи дужки, а просто називаємо функцію.  

2. Однак, у консолі нашого браузера бачимо помилку у рядку 6:   
``` 
counter01.html:6 Uncaught TypeError: Cannot set properties of null (setting 'onclick')
    at counter01.html:6:54
(anonymous) @ counter01.html:6
```
Ця помилка пов'язана з тим, що доданий код відпрацьовує раніше ніж завантажилась сторінка, таким чином він не знаходить на сторінці тегу 'button'. Позбутися цієї помилки легко, перемістивши код JavaScript в те місце HTML коду сторінки, де вона вже буде повністю завантажена, або завантажений потрібний елемент DOM, але це буде не універсальне рішення.  

3. Отже, щоб виправити цю помилку існує функція [addEventListener](https://www.w3schools.com/jsref/met_document_addeventlistener.asp), яка вкаже, щоб код запускатиметься лише після повного завантаження сторінки. Ця функція приймає два аргументи:  
- Подія для прослуховування (наприклад: 'click', але ми в прикладі нижче будемо слухати подію 'DOMContentLoaded', що виникає коли весь контент сторінки буде завантажено)  
- Функція, яка запускається при настанні події (наприклад: count, але ми використовуємо замість назви функції конструкцію `function() {}`, що дозволяє підставити в цей аргумент відразу код анонімної функції назва якої нас не цікавить, бо ми до неї з інших міць не плануємо більше звертатись)  

Ми можемо використовувати цю функцію, щоб запустити код лише після завантаження всього вмісту:  

```js
document.addEventListener('DOMContentLoaded', function() {
    document.querySelector('button').onclick = count;
});
```
Тут треба зауважити, що другий рядок можна представити цією ж функцією, яка буде слухати подію 'click', ось таким чином:  

```js
document.querySelector('button').addEventListener('click', count);
```
У наведеному прикладі ми використали анонімну функцію, якій ніколи не присвоюється ім’я. Помилка зникла, код запрацював. Вихідний код у [файлі](counter01.html).  


4. Перемістимо JavaScript в окремий файл [counter02.js](counter02.js) а HTML-код залишимо у файлі [counter02.html](counter02.html) для чого:  
- Скопіюємо увесь код JavaScript в окремий файл, який закінчується на .js
- Додамо атрибут src до тегу <`script`>, який вказує на цей новий файл.  

5. Переваги відокремлення JavaScript - коду в окремий файл:  
- Візуальна привабливість: наші окремі файли HTML і JavaScript стають більш читабельними.
- Доступ з різних файлів HTML: тепер у нас може бути кілька файлів HTML, які мають однаковий JavaScript.
- Співпраця: тепер ми можемо легко запропонувати одній людині працювати над JavaScript, а іншій – над HTML.
- Імпорт: ми можемо імпортувати бібліотеки JavaScript, які вже написали інші люди. Наприклад, `Bootstrap` має власну бібліотеку JavaScript

## Робота з формами
1. Зробимо найпростішу форму, де користувач може ввести своє ім’я, щоб отримати персоніфіковане привітання. Відразу розносимо код на два файли:  
- [form.js](form.js)  
- [form.html](form.html)  

2. Деякі примітки щодо створеної сторінки:  
- Атрибут `autofocus` для поля `name`, щоб вказати, що курсор повинен бути встановлений всередині цього поля, щойно сторінка завантажується.
- `#name` всередині `document.querySelector`, щоб знайти елемент з id of name. У цій функції ми можемо використовувати ті самі селектори, що й у CSS.
- Атрибут `value` поля введення, щоб знайти те, що зараз введено.

3. Обрати окремий елемент з HTML-коду так само як і в CSS можливо отримати за допомогою функції querySelector:  

- document.querySelector('tag')
- document.querySelector('#id')
- document.querySelector('.class')  

## Зміна CSS за допомогою JS та робота з масивом елементів
1. У файлі [colors.html](colors.html) напишемо код простої форми з кнопками, що мають змінювати колір заголовка сторінки.

2. Тепер в розділі скриптів використовуємо функцію  `querySelectorAll`, щоб зібрати усі зазначені в дужках елементи (кнопки) в [список вузлів](https://www.w3schools.com/js/js_htmldom_nodelist.asp), який можна буде обробити так само як [масив](https://www.w3schools.com/js/js_arrays.asp):  


```js
document.querySelectorAll('button').forEach(function(button)
```

3. Використав функцію [forEach](https://www.w3schools.com/jsref/jsref_foreach.asp), яка приймає аргументом в JavaScript іншу функцію і застосовує цю функцію до кожного елемента в списку або масиві.

4. Змінюємо CSS об'єкт за допомогою атрибута `style.SOMETHING` (в нашому випадку style.color):  

```js
document.querySelector("#hello").style.color = button.dataset.color;
```

5. Ми використовуємо атрибут `data-SOMETHING` (в нашому випадку `data-color`) замість `id` для призначення даних елементу HTML, щоб використовуючи властивість dataset елемента в скриптах:

```js
document.querySelector("#hello").style.color = button.dataset.color; 
```  
Атрибути даних завжди починаються зі слова `data` після якого ставиться `-`, після якого вказується ім'я інформації, яку потрібно зберегти про елемент HTML. В даному випадку зберігаємо дані про те на який колір потрібно змінити текст при натисканні кнопки.  

## Консоль JavaScript
1. Консоль, яку можна знайти в інструментах розробника у своєму браузері, натиснувши на вкладку `console` – це корисний інструмент для тестування невеликих фрагментів коду, який дозволяє:
 - запускати код JavaScript в консолі
 - змінювати значення змінних
 - дебагінг з виведенням в консоль дій користувача на сторінці

 2. Додамо до сторінки `colors.html` такий рядок:  

```js
console.log(document.querySelectorAll('button'));
```
## Обробка випадного меню та стрілкові функції 
1. Продовжимо оптимізацію кода за допомогою [стрілкових функцій](https://www.w3schools.com/js/js_arrow_function.asp) у файлі [colors01.html](colors01.html)  

2. Анонімну функцію `function()` змінимо на стрілковий еквівалент `=>` 

3. Анонімну функцію з аргументом `forEach(function(button) {` змінимо на стрілковий еквівалент `forEach(button => {`   

4. Іменовані функції, які використовують стрілки, на прикладі `function count() {` записується як `coutn = () => {`  

5. 